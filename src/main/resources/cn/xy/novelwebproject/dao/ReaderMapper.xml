<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.xy.novelwebproject.dao.ReaderMapper">
		<resultMap id="BaseResultMap" type="cn.xy.novelwebproject.bean.Reader">
				<!--
				  WARNING - @mbg.generated
				  This element is automatically generated by MyBatis Generator, do not modify.
				  This element was generated on Sat Jun 06 19:29:15 CST 2020.
				-->
				<id column="nick_name" jdbcType="VARCHAR" property="nick_name"/>
				<result column="sex" jdbcType="VARCHAR" property="sex"/>
				<result column="birthday" jdbcType="DATE" property="birthday"/>
				<result column="intro" jdbcType="VARCHAR" property="intro"/>
				<result column="address" jdbcType="VARCHAR" property="address"/>
				<result column="fans" jdbcType="INTEGER" property="fans"/>

				<result column="account_balance" jdbcType="INTEGER" property="account_balance"/>
				<result column="monthly_tickets" jdbcType="INTEGER" property="monthly_tickets"/>
				<result column="vip" jdbcType="INTEGER" property="vip"/>
				<result column="access" jdbcType="VARCHAR" property="access"/>
				<result column="headimage" jdbcType="VARCHAR" property="headimage"/>
		</resultMap>

		<select id="selectByPrimaryKey" parameterType="String" resultMap="BaseResultMap">
				SELECT readers.nick_name,
					   readers.sex,
					   readers.birthday,
					   readers.intro,
					   readers.address,
					   readers.fans,
					   readers.account_balance,
					   readers.monthly_tickets,
					   readers.vip,
					   readers.access,
					   readers.headimage
				from readers
				where nick_name = #{nick_name}
		</select>

		<update id="SetUserHeadImg" parameterType="String">
				update readers
				set readers.headimage=#{arg0}
				where nick_name = #{arg1}
		</update>

		<update id="updataReaderByName" parameterType="cn.xy.novelwebproject.bean.Reader">
				update readers
				<set>
						<if test="nick_name!=null">
								nick_name =#{nick_name},
						</if>
						<if test="sex!=null">
								sex = #{sex},
						</if>
						<if test="birthday!=null">
								birthday = #{birthday},
						</if>
						<if test="address!=null">
								address = #{address},
						</if>
						<if test="intro!=null">
								intro = #{intro}
						</if>
				</set>
				where nick_name = #{nick_name}
		</update>
</mapper>